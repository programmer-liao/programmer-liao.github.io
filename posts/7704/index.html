<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>RedisTemplate常用方法详解 | 神笔码农的小站</title><meta name="author" content="神笔码农"><meta name="copyright" content="神笔码农"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="randomKey public K randomKey() 从redis的key集合中随机返回一个key，如果key集合为空，则返回null  expireAt public Boolean expireAt(K key, Date date) 为指定key的键值对设置过期时间（在什么时间过期），如果key不存在返回false，设置成功返回true  expire default Boolea">
<meta property="og:type" content="article">
<meta property="og:title" content="RedisTemplate常用方法详解">
<meta property="og:url" content="https://dezhi.site/posts/7704/index.html">
<meta property="og:site_name" content="神笔码农的小站">
<meta property="og:description" content="randomKey public K randomKey() 从redis的key集合中随机返回一个key，如果key集合为空，则返回null  expireAt public Boolean expireAt(K key, Date date) 为指定key的键值对设置过期时间（在什么时间过期），如果key不存在返回false，设置成功返回true  expire default Boolea">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://dezhi.site/img/cover/cover16.png">
<meta property="article:published_time" content="2023-08-17T12:41:28.249Z">
<meta property="article:modified_time" content="2023-08-17T12:54:56.955Z">
<meta property="article:author" content="神笔码农">
<meta property="article:tag" content="Redis">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://dezhi.site/img/cover/cover16.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://dezhi.site/posts/7704/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'RedisTemplate常用方法详解',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-17 20:54:56'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/footer.css"><link rel="stylesheet" href="/css/background.css"><link rel="stylesheet" href="/css/scrollbar.css"><link rel="stylesheet" href="/css/frontface.css"><link rel="stylesheet" href="/css/card-border.css"><link rel="stylesheet" href="/css/width.css"><link rel="stylesheet" href="/css/my.css"><link rel="stylesheet" href="/css/load.css"><link rel="stylesheet" href="/css/atom-one-dark.css"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head><body><link rel="stylesheet" href="/css/load.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/tux.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">64</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">神笔码农的小站</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">RedisTemplate常用方法详解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-17T12:41:28.249Z" title="发表于 2023-08-17 20:41:28">2023-08-17</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-08-17T12:54:56.955Z" title="更新于 2023-08-17 20:54:56">2023-08-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Redis/">Redis</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="RedisTemplate常用方法详解"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h2 id="randomkey"><a class="markdownIt-Anchor" href="#randomkey"></a> randomKey</h2>
<p><code>public K randomKey()</code></p>
<p>从redis的key集合中随机返回一个key，如果key集合为空，则返回null</p>
<h2 id="expireat"><a class="markdownIt-Anchor" href="#expireat"></a> expireAt</h2>
<p><code>public Boolean expireAt(K key, Date date)</code></p>
<p>为指定key的键值对设置过期时间（在什么时间过期），如果key不存在返回false，设置成功返回true</p>
<h2 id="expire"><a class="markdownIt-Anchor" href="#expire"></a> expire</h2>
<p><code>default Boolean expire(K key, Duration timeout)</code></p>
<p>参数说明</p>
<ol>
<li>
<p>key： 键</p>
</li>
<li>
<p>Duration：多少时间后过期，可以传入不同的Duration对象来表示时间</p>
<p>如下所示，就不演示了</p>
<p><img src="/posts/7704/image-20221013143521616.png" alt="image-20221013143521616"></p>
</li>
</ol>
<p><code>Boolean expire(K var1, long var2, TimeUnit var4)</code></p>
<p>参数说明</p>
<ol>
<li>var1：key</li>
<li>var2： 多少个单位时间</li>
<li>var4： 单位时间，TimeUnit是一个枚举类，有以下几个枚举值
<ol>
<li><code>NANOSECONDS</code>：纳秒</li>
<li><code>MICROSECONDS</code>微秒</li>
<li><code>MILLISECONDS</code>：毫秒</li>
<li><code>SECONDS</code>：秒</li>
<li><code>MINUTES</code>：分</li>
<li><code>HOURS</code>：时</li>
<li><code>DAYS</code>：天</li>
</ol>
</li>
</ol>
<p>举例说明</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java">redisTemplate.expire(<span class="hljs-string">&quot;k2&quot;</span>, <span class="hljs-number">1000</span>, TimeUnit.NANOSECONDS); <span class="hljs-comment">// 1000纳秒后过期</span><br>redisTemplate.expire(<span class="hljs-string">&quot;k2&quot;</span>, <span class="hljs-number">1000</span>, TimeUnit.MICROSECONDS);<span class="hljs-comment">// 1000微秒后过期</span><br>redisTemplate.expire(<span class="hljs-string">&quot;k2&quot;</span>, <span class="hljs-number">1000</span>, TimeUnit.MILLISECONDS);<span class="hljs-comment">// 1000毫秒后过期</span><br>redisTemplate.expire(<span class="hljs-string">&quot;k2&quot;</span>, <span class="hljs-number">1000</span>, TimeUnit.SECONDS);     <span class="hljs-comment">// 1000秒后过期</span><br>redisTemplate.expire(<span class="hljs-string">&quot;k2&quot;</span>, <span class="hljs-number">1000</span>, TimeUnit.MINUTES);     <span class="hljs-comment">// 1000分钟后过期</span><br>redisTemplate.expire(<span class="hljs-string">&quot;k2&quot;</span>, <span class="hljs-number">1000</span>, TimeUnit.HOURS);       <span class="hljs-comment">// 1000小时后过期</span><br>redisTemplate.expire(<span class="hljs-string">&quot;k2&quot;</span>, <span class="hljs-number">1000</span>, TimeUnit.DAYS);        <span class="hljs-comment">// 1000天后过期</span><br></code></pre></td></tr></table></figure>
<h2 id="delete"><a class="markdownIt-Anchor" href="#delete"></a> delete</h2>
<p><code>Boolean delete(K var1)</code></p>
<p>删除key为var1的键值对，删除成功返回true，删除失败返回false，如key本身就不存在</p>
<p><code>Long delete(Collection&lt;K&gt; var1)</code></p>
<p>传入key集合，删除key集合中对应的键值对，返回成功删除的个数</p>
<h2 id="unlink"><a class="markdownIt-Anchor" href="#unlink"></a> unlink</h2>
<p><code>Boolean unlink(K var1)</code></p>
<p>仅将var1s从keyspace元数据中删除，真正的删除会在后续异步操作</p>
<p><code>Long unlink(Collection&lt;K&gt; var1)</code></p>
<p>同时unlink多个key</p>
<h2 id="type"><a class="markdownIt-Anchor" href="#type"></a> Type</h2>
<p><code>public DataType type(K key)</code></p>
<p>返回key的类型，返回值为DataType</p>
<p>有以下几个枚举值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java">NONE(<span class="hljs-string">&quot;none&quot;</span>),<br>STRING(<span class="hljs-string">&quot;string&quot;</span>),<br>LIST(<span class="hljs-string">&quot;list&quot;</span>),<br>SET(<span class="hljs-string">&quot;set&quot;</span>),<br>ZSET(<span class="hljs-string">&quot;zset&quot;</span>),<br>HASH(<span class="hljs-string">&quot;hash&quot;</span>),<br>STREAM(<span class="hljs-string">&quot;stream&quot;</span>);<br></code></pre></td></tr></table></figure>
<h2 id="rename"><a class="markdownIt-Anchor" href="#rename"></a> rename</h2>
<p><code>public void rename(K oldKey, K newKey)</code></p>
<p>将oldKey重命名为newKey</p>
<h2 id="setenabletransactionsupport"><a class="markdownIt-Anchor" href="#setenabletransactionsupport"></a> setEnableTransactionSupport</h2>
<p>开启redis事务支持，默认不开启事务，需要手动开启</p>
<p><code>public void setEnableTransactionSupport(boolean enableTransactionSupport)</code></p>
<h2 id="mutli"><a class="markdownIt-Anchor" href="#mutli"></a> mutli</h2>
<p><code>public void multi()</code></p>
<p>开启redis事务</p>
<h2 id="exec"><a class="markdownIt-Anchor" href="#exec"></a> exec</h2>
<p><code>public List&lt;Object&gt; exec()</code></p>
<p>需要配合mutli使用</p>
<p>提交事务，返回事务期间执行过操作的返回值的List集合（无返回值的不输出），使用默认的RedisSerializer来反序列化</p>
<blockquote>
<p><strong>官方解释</strong></p>
<p>]Execute a transaction, using the default <code>RedisSerializer</code>s to deserialize any results that are byte[]s or Collections or Maps of byte[]s or Tuples. Other result types (Long, Boolean, etc) are left as-is in the converted results. If conversion of tx results has been disabled in the <code>RedisConnectionFactory</code> the results of exec will be returned without deserialization. This check is mostly for backwards compatibility with 1.0.</p>
</blockquote>
<p><code>public List&lt;Object&gt; exec(RedisSerializer&lt;?&gt; valueSerializer)</code></p>
<p>提交事务，指定RedisSerializer来反序列化</p>
<blockquote>
<p><strong>官方解释</strong></p>
<p>Execute a transaction, using the provided <code>RedisSerializer</code>to deserialize any results that are byte[]s or Collections of byte[]s. If a result is a Map, the provided <code>RedisSerializer</code> will be used for both the keys and values. Other result types (Long, Boolean, etc) are left as-is in the converted results. Tuple results are automatically converted to TypedTuples.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java">redisTemplate.setEnableTransactionSupport(<span class="hljs-literal">true</span>); <span class="hljs-comment">//开启事务支持</span><br>redisTemplate.multi(); <span class="hljs-comment">// 开启事务</span><br>redisTemplate.opsForValue().set(<span class="hljs-string">&quot;k1&quot;</span>, <span class="hljs-string">&quot;v1&quot;</span>); <span class="hljs-comment">// true</span><br>redisTemplate.randomKey(); <span class="hljs-comment">// k1</span><br>redisTemplate.expireAt(<span class="hljs-string">&quot;k1&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(System.currentTimeMillis() + <span class="hljs-number">1000</span> * <span class="hljs-number">60</span>)); <span class="hljs-comment">// true</span><br>redisTemplate.type(<span class="hljs-string">&quot;k1&quot;</span>); <span class="hljs-comment">// STRING</span><br>redisTemplate.rename(<span class="hljs-string">&quot;k1&quot;</span>, <span class="hljs-string">&quot;k2&quot;</span>);<br>System.out.println(redisTemplate.exec()); <span class="hljs-comment">// 提交事务</span><br><span class="hljs-comment">// 输出结果</span><br><span class="hljs-comment">// [true, k1, true, STRING]</span><br></code></pre></td></tr></table></figure>
<h2 id="discard"><a class="markdownIt-Anchor" href="#discard"></a> discard</h2>
<p><code>public void discard()</code></p>
<p>回滚事务，需要配合mutli使用</p>
<h2 id="watch"><a class="markdownIt-Anchor" href="#watch"></a> watch</h2>
<p><code>void watch(K key)</code></p>
<p>在事务期间，监听key的变化</p>
<p><code>void watch(Collection&lt;K&gt; keys)</code></p>
<p>在事务期间，监听keys的变化</p>
<h2 id="unwatch"><a class="markdownIt-Anchor" href="#unwatch"></a> unwatch</h2>
<p><code>public void unwatch()</code></p>
<p>取消对所有key的监听</p>
<h2 id="move"><a class="markdownIt-Anchor" href="#move"></a> move</h2>
<p><code>public Boolean move(K key, int dbIndex)</code></p>
<p>移动键为key的键值对到索引为dbIndex的库去</p>
<p>移动成功返回true，移动失败返回false（如键值对本来就不存在）</p>
<h2 id="dump"><a class="markdownIt-Anchor" href="#dump"></a> dump</h2>
<p><code>public byte[] dump(K key)</code></p>
<p>dump指定key</p>
<h2 id="slaveof"><a class="markdownIt-Anchor" href="#slaveof"></a> slaveOf</h2>
<p><code>public void slaveOf(String host, int port)</code></p>
<p>用于在 Redis 运行时动态地修改复制(replication)功能的行为</p>
<h2 id="slaveofnoone"><a class="markdownIt-Anchor" href="#slaveofnoone"></a> slaveOfNoOne</h2>
<p><code>public void slaveOfNoOne()</code></p>
<p>将服务器改为主服务器</p>
<h2 id="afterpropertiesset"><a class="markdownIt-Anchor" href="#afterpropertiesset"></a> afterPropertiesSet</h2>
<p><code>public void afterPropertiesSet()</code></p>
<p>初始化RedisTemplate的一些参数设置</p>
<p><strong>非spring注入使用RedisTemplate,需先调用afterPropertiesSet()方法</strong></p>
<h2 id="killclient"><a class="markdownIt-Anchor" href="#killclient"></a> killClient</h2>
<p><code>public void killClient(String host, int port)</code></p>
<p>关闭host:port的客户端连接</p>
<h2 id="opsforvalue"><a class="markdownIt-Anchor" href="#opsforvalue"></a> opsForValue</h2>
<p>针对字符串的操作集合</p>
<h3 id="set"><a class="markdownIt-Anchor" href="#set"></a> set</h3>
<p><code>void set(K var1, V var2)</code></p>
<p>设置键值对[var1, var2]</p>
<p><code>void set(K var1, V var2, long var3, TimeUnit var5)</code></p>
<p>设置键值对[var1, var2]，并且通过TimeUnit设置过期时间</p>
<p><code>default void set(K key, V value, Duration timeout)</code></p>
<p>设置键值对[var1, var2]，并且通过Duration设置过期时间</p>
<p><code>void set(K var1, V var2, long var3)</code></p>
<p>设置键值对[var1, var2]，并且设置过期时间为var3毫秒</p>
<h3 id="setifabsent"><a class="markdownIt-Anchor" href="#setifabsent"></a> setIfAbsent</h3>
<p><code>Boolean setIfAbsent(K var1, V var2)</code></p>
<p>在键var1不存在时设置键值对[var1, var2]，</p>
<p><code>Boolean setIfAbsent(K var1, V var2, long var3, TimeUnit var5)</code></p>
<p>在键var1不存在时设置键值对[var1, var2]，并且通过TimeUnit设置过期时间</p>
<p><code>default Boolean setIfAbsent(K key, V value, Duration timeout)</code></p>
<p>在键var1不存在时设置键值对[var1, var2]，并且通过Duration设置过期时间</p>
<h3 id="setifabsent-2"><a class="markdownIt-Anchor" href="#setifabsent-2"></a> setIfAbsent</h3>
<p><code>Boolean setIfPresent(K var1, V var2)</code></p>
<p>在键key存在时设置值为value</p>
<p><code>Boolean setIfPresent(K var1, V var2, long var3, TimeUnit var5)</code></p>
<p>在键key存在时设置值为value，并且通过TimeUnit设置过期时间</p>
<p><code>default Boolean setIfPresent(K key, V value, Duration timeout)</code></p>
<p>在键key存在时设置值为value，并且通过Duration设置过期时间</p>
<h3 id="mutliset"><a class="markdownIt-Anchor" href="#mutliset"></a> mutliSet</h3>
<p><code>void multiSet(Map&lt;? extends K, ? extends V&gt; var1)</code></p>
<p>同时设置多个键值对</p>
<h3 id="mutliget"><a class="markdownIt-Anchor" href="#mutliget"></a> mutliGet</h3>
<p><code>List&lt;V&gt; multiGet(Collection&lt;K&gt; var1)</code></p>
<p>根据给定的Key集合同时取出多个值</p>
<h3 id="multisetifabsent"><a class="markdownIt-Anchor" href="#multisetifabsent"></a> multiSetIfAbsent</h3>
<p><code>Boolean multiSetIfAbsent(Map&lt;? extends K, ? extends V&gt; var1)</code></p>
<p>同时设置多个键值对当且仅当对应的键不存在时设置</p>
<h3 id="get"><a class="markdownIt-Anchor" href="#get"></a> get</h3>
<p><code>V get(Object var1)</code></p>
<p>取出键为var1的键值对对应的值</p>
<p><code>String get(K var1, long var2, long var4)</code></p>
<p>获得键为var1的键值对对应在区间[var2, var4)之间的子字符串</p>
<h3 id="increment"><a class="markdownIt-Anchor" href="#increment"></a> increment</h3>
<p><code>Long increment(K var1)</code></p>
<p>将键为var1键值对的值增加1</p>
<p><code>Long increment(K var1, long var2)</code></p>
<p>将键为var1键值对的值增加var2</p>
<p><code>Double increment(K var1, double var2)</code></p>
<p>将键为var1键值对的值增加var2（浮点数）</p>
<h3 id="decrement"><a class="markdownIt-Anchor" href="#decrement"></a> decrement</h3>
<p><code>Long decrement(K var1)</code></p>
<p>将键为var1键值对的值减少1</p>
<p><code>Long decrement(K var1, long var2)</code></p>
<p>将键为var1键值对的值减少var2</p>
<h3 id="size"><a class="markdownIt-Anchor" href="#size"></a> size</h3>
<p><code>Long size(K var1)</code></p>
<p>获得键为var1的键值对对应的值的长度</p>
<h3 id="append"><a class="markdownIt-Anchor" href="#append"></a> append</h3>
<p><code>Integer append(K var1, String var2)</code></p>
<p>将字符串var2追加都键为var1的键值对对应的值的后面</p>
<h3 id="getandset"><a class="markdownIt-Anchor" href="#getandset"></a> getAndSet</h3>
<p><code>V getAndSet(K var1, V var2)</code></p>
<p>设置新值，返回旧值</p>
<h2 id="opsforhash"><a class="markdownIt-Anchor" href="#opsforhash"></a> opsForHash</h2>
<p>针对哈希表的操作集合</p>
<h3 id="put"><a class="markdownIt-Anchor" href="#put"></a> put</h3>
<p><code>void put(H var1, HK var2, HV var3)</code></p>
<p>将记录[var2, var3]加入键为var1的哈希表中</p>
<h3 id="putall"><a class="markdownIt-Anchor" href="#putall"></a> putAll</h3>
<p><code>void putAll(H var1, Map&lt;? extends HK, ? extends HV&gt; var2)</code></p>
<p>将集合var2中的所有记录加入键为var1的哈希表中</p>
<h3 id="putifabsent"><a class="markdownIt-Anchor" href="#putifabsent"></a> putIfAbsent</h3>
<p><code>Boolean putIfAbsent(H var1, HK var2, HV var3)</code></p>
<p>将记录[var2, var3]加入键为var1的哈希表中如果[var2, var3]不存在</p>
<h3 id="size-2"><a class="markdownIt-Anchor" href="#size-2"></a> size</h3>
<p><code>Long size(H var1)</code></p>
<p>获得键为var1中的记录总数</p>
<h3 id="delete-2"><a class="markdownIt-Anchor" href="#delete-2"></a> delete</h3>
<p><code>Long delete(H var1, Object... var2)</code></p>
<p>删除键在可变数组中var2中的键值对记录</p>
<h3 id="haskey"><a class="markdownIt-Anchor" href="#haskey"></a> hasKey</h3>
<p><code>Boolean hasKey(H var1, Object var2)</code></p>
<p>判断哈希表var1中是否存在对应的哈希键var2</p>
<h3 id="keys"><a class="markdownIt-Anchor" href="#keys"></a> Keys</h3>
<p><code>Set&lt;HK&gt; keys(H var1)</code></p>
<p>返回哈希表var1的所有哈希key集合</p>
<h3 id="values"><a class="markdownIt-Anchor" href="#values"></a> values</h3>
<p><code>List&lt;HV&gt; values(H var1)</code></p>
<p>返回哈希表var1的所有哈希value集合</p>
<h3 id="entries"><a class="markdownIt-Anchor" href="#entries"></a> entries</h3>
<p><code>Map&lt;HK, HV&gt; entries(H var1)</code></p>
<p>返回哈希表var1中所有哈希键值对的entries集合</p>
<h3 id="lengthofvalue"><a class="markdownIt-Anchor" href="#lengthofvalue"></a> lengthOfValue</h3>
<p><code>Long lengthOfValue(H var1, HK var2)</code></p>
<p>返回哈希表var1中哈希键为var2的键值对对应的值的长度</p>
<h3 id="get-2"><a class="markdownIt-Anchor" href="#get-2"></a> get</h3>
<p><code>HV get(H var1, Object var2)</code></p>
<p>取得哈希表var1哈希键为var2的值</p>
<h3 id="increment-2"><a class="markdownIt-Anchor" href="#increment-2"></a> increment</h3>
<p><code>Long increment(H var1, HK var2, long var3)</code></p>
<p>将返回哈希表var1中哈希键为var2的键值对对应的值增加var3</p>
<p><code>double increment(H var1, HK var2, double var3)</code></p>
<p>将返回哈希表var1中哈希键为var2的键值对对应的值增加var3（double）</p>
<h3 id="mutliget-2"><a class="markdownIt-Anchor" href="#mutliget-2"></a> mutliGet</h3>
<p><code>List&lt;HV&gt; multiGet(H var1, Collection&lt;HK&gt; var2)</code></p>
<p>同时取得多个哈希值</p>
<h2 id="opsforlist"><a class="markdownIt-Anchor" href="#opsforlist"></a> opsForList</h2>
<p>针对列表的操作集合</p>
<h3 id="set-2"><a class="markdownIt-Anchor" href="#set-2"></a> set</h3>
<p><code>void set(K var1, long var2, V var4)</code></p>
<p>设置列表var1的索引下标var2位置的值为var4</p>
<h3 id="remove"><a class="markdownIt-Anchor" href="#remove"></a> remove</h3>
<p><code>Long remove(K var1, long var2, Object var4)</code></p>
<p>从列表var1的左边开始删除var2个值为var4的元素</p>
<h3 id="size-3"><a class="markdownIt-Anchor" href="#size-3"></a> size</h3>
<p><code>Long size(K var1)</code></p>
<p>返回列表var1中的元素个数</p>
<h3 id="range"><a class="markdownIt-Anchor" href="#range"></a> range</h3>
<p><code>List&lt;V&gt; range(K var1, long var2, long var4)</code></p>
<p>从列表var1中取出区间[var2, var4]的子列表</p>
<h3 id="trim"><a class="markdownIt-Anchor" href="#trim"></a> trim</h3>
<p><code>void trim(K var1, long var2, long var4)</code></p>
<p>移除列表var1中在区间[var2, var4]的元素</p>
<h3 id="leftpushrightpush"><a class="markdownIt-Anchor" href="#leftpushrightpush"></a> leftPush/rightPush</h3>
<p><code>Long leftPush(K var1, V var2)</code></p>
<p>在列表var1的左边/右边插入值为var2的元素</p>
<p><code>Long leftPush(K var1, V var2, V var3)</code></p>
<p>在列表var1的var2索引前/后插入var3</p>
<h3 id="leftpushallrightpushall"><a class="markdownIt-Anchor" href="#leftpushallrightpushall"></a> leftPushAll/rightPushAll</h3>
<p><code>Long leftPushAll(K var1, V... var2)</code></p>
<p>在列表var1的左边/右边依次插入var2变长数组中的元素</p>
<p><code>Long leftPushAll(K var1, Collection&lt;V&gt; var2)</code></p>
<p>在列表var1的左边/右边依次插入var2集合中的元素</p>
<h3 id="leftpushifpresentrightpushifpresent"><a class="markdownIt-Anchor" href="#leftpushifpresentrightpushifpresent"></a> leftPushIfPresent/rightPushIfPresent</h3>
<p><code>Long leftPushIfPresent(K var1, V var2)</code></p>
<p>在列表var1的左边/右边插入值为var2的元素当且仅当值var2不存在</p>
<h3 id="leftpoprightpop"><a class="markdownIt-Anchor" href="#leftpoprightpop"></a> leftPop/rightPop</h3>
<p><code>V leftPop(K var1)</code></p>
<p>移除并返回从列表var1左边/右边开始第一个值为var1的元素</p>
<p><code>V leftPop(K var1, long var2, TimeUnit var4)</code></p>
<p>移除并返回从列表var1左边/右边开始第var4个值为var1的元素</p>
<p><code>default V leftPop(K key, Duration timeout)</code></p>
<p>在timeout时间后移除并返回从列表var1左边/右边开始第一个值为var1的元素</p>
<h3 id="rightpopandleftpush"><a class="markdownIt-Anchor" href="#rightpopandleftpush"></a> rightPopAndLeftPush</h3>
<p><code>V rightPopAndLeftPush(K var1, K var2)</code></p>
<p>从var1的列表中移除最后一个元素，将其附加到var2的列表第一个元素前并返回其值</p>
<p><code>V rightPopAndLeftPush(K var1, K var2, long var3, TimeUnit var5)</code></p>
<p>在var3 TimeUnit时间后从var1的列表中移除最后一个元素，将其附加到var2的列表第一个元素前并返回其值</p>
<p><code>default V rightPopAndLeftPush(K sourceKey, K destinationKey, Duration timeout)</code></p>
<p>在timeout时间后从sourceKey的列表中移除最后一个元素，将其附加到destinationKey的列表第一个元素并返回其值</p>
<h2 id="opsforset"><a class="markdownIt-Anchor" href="#opsforset"></a> opsForSet</h2>
<p>针对集合的操作</p>
<h3 id="add"><a class="markdownIt-Anchor" href="#add"></a> add</h3>
<p><code>Long add(K var1, V... var2)</code></p>
<p>在集合var1中添加可变数组var2中的元素</p>
<h3 id="remove-2"><a class="markdownIt-Anchor" href="#remove-2"></a> remove</h3>
<p><code>Long remove(K var1, Object... var2)</code></p>
<p>在集合var1中移除可变数组var2中的元素</p>
<h3 id="ismemeber"><a class="markdownIt-Anchor" href="#ismemeber"></a> isMemeber</h3>
<p><code>Boolean isMember(K var1, Object var2)</code></p>
<p>判断var2是否是var1中</p>
<h3 id="members"><a class="markdownIt-Anchor" href="#members"></a> members</h3>
<p><code>Set&lt;V&gt; members(K var1)</code></p>
<p>返回集合var1中所有的元素集合</p>
<h3 id="randommember"><a class="markdownIt-Anchor" href="#randommember"></a> randomMember</h3>
<p><code>V randomMember(K var1)</code></p>
<p>随机从var1集合中返回一个元素</p>
<h3 id="randommembers"><a class="markdownIt-Anchor" href="#randommembers"></a> randomMembers</h3>
<p><code>List&lt;V&gt; randomMembers(K var1, long var2)</code></p>
<p>随机从var1集合中返回var1个元素组成的list集合</p>
<h3 id="distinctrandommembers"><a class="markdownIt-Anchor" href="#distinctrandommembers"></a> distinctRandomMembers</h3>
<p><code>Set&lt;V&gt; distinctRandomMembers(K var1, long var2)</code></p>
<p>随机从var1集合中返回var1个<strong>不同</strong>元素组成的list集合</p>
<h3 id="pop"><a class="markdownIt-Anchor" href="#pop"></a> pop</h3>
<p><code>V pop(K var1)</code></p>
<p>从set集合var1中随机弹出一个元素</p>
<p><code>List&lt;V&gt; pop(K var1, long var2)</code></p>
<p>从set集合var1中随机弹出var2个元素组成的list集合</p>
<h3 id="move-2"><a class="markdownIt-Anchor" href="#move-2"></a> move</h3>
<p><code>Boolean move(K var1, V var2, K var3)</code></p>
<p>将元素var2从var1集合移动到var2集合</p>
<h3 id="size-4"><a class="markdownIt-Anchor" href="#size-4"></a> size</h3>
<p><code>Long size(K var1)</code></p>
<p>返回set集合var1中的元素个数</p>
<h3 id="unionintersectdifference"><a class="markdownIt-Anchor" href="#unionintersectdifference"></a> union/intersect/difference</h3>
<p><code>Set&lt;V&gt; union(K var1, K var2)</code></p>
<p>返回set集合var1和set集合var2的并集/交集/补集</p>
<p><code>Set&lt;V&gt; union(K var1, Collection&lt;K&gt; var2)</code></p>
<p>返回set集合var1和Collection集合var2的并集/交集/补集</p>
<p><code>Set&lt;V&gt; union(Collection&lt;K&gt; var1)</code></p>
<p>返回集合key在var1中的元素集合的并集/交集/补集</p>
<h3 id="unionandstoreintersectandstoredifferenceandstore"><a class="markdownIt-Anchor" href="#unionandstoreintersectandstoredifferenceandstore"></a> unionAndStore/intersectAndStore/differenceAndStore</h3>
<p><code>Long unionAndStore(K var1, K var2, K var3)</code></p>
<p>将set集合var1和set集合var2的并集/交集/补集存到集合var3中</p>
<p><code>Long unionAndStore(K var1, Collection&lt;K&gt; var2, K var3)</code></p>
<p>将set集合var1和Collection集合var2的并集/交集/补集存到集合var3中</p>
<p><code>Long unionAndStore(Collection&lt;K&gt; var1, K var2)</code></p>
<p>将集合key在var1中的元素集合的并集/交集/补集存到集合var2中</p>
<h2 id="opsforzset"><a class="markdownIt-Anchor" href="#opsforzset"></a> opsForZSet</h2>
<p>针对有序集合ZSet的操作集合</p>
<h3 id="add-2"><a class="markdownIt-Anchor" href="#add-2"></a> add</h3>
<p><code>Boolean add(K key, V value, double score)</code></p>
<p>将元素及其权重score放到有序集合key中</p>
<p><code>Long add(K key, Set&lt;TypedTuple&lt;V&gt;&gt; tuples)</code></p>
<p>将tuples集合中的元素及其权重放到有序集合key中</p>
<h3 id="remove-3"><a class="markdownIt-Anchor" href="#remove-3"></a> remove</h3>
<p><code>Long remove(K key, Object... values)</code></p>
<p>将可变数组中的元素从有序结合key中移除</p>
<h3 id="removerange"><a class="markdownIt-Anchor" href="#removerange"></a> removeRange</h3>
<p><code>Long removeRange(K key, long start, long end)</code></p>
<p>将有序集合key中在区间[start, end]中的元素移除</p>
<h3 id="removerangebyscore"><a class="markdownIt-Anchor" href="#removerangebyscore"></a> removeRangeByScore</h3>
<p><code>Long removeRangeByScore(K key, double min, double max)</code></p>
<p>移除有序集合key权重在[min, max]之间的所有元素</p>
<h3 id="size-5"><a class="markdownIt-Anchor" href="#size-5"></a> size</h3>
<p><code>Long size(K key)</code></p>
<p>返回有序集合Key中元素的个数</p>
<h3 id="score"><a class="markdownIt-Anchor" href="#score"></a> score</h3>
<p><code>double score(K key, Object o)</code></p>
<p>给有序集合key中的元素o设置score</p>
<h3 id="range-2"><a class="markdownIt-Anchor" href="#range-2"></a> range</h3>
<p><code>Set&lt;V&gt; range(K key, long start, long end)</code></p>
<p>升序</p>
<p>返回有序结合Key中排名在[start, end]中的元素集合</p>
<h3 id="zcard"><a class="markdownIt-Anchor" href="#zcard"></a> zCard</h3>
<p><code>Long zCard(K key)</code></p>
<p>获得有序结合key中的元素个数</p>
<h3 id="rangewithscoresreverserange"><a class="markdownIt-Anchor" href="#rangewithscoresreverserange"></a> rangeWithScores|reverseRange</h3>
<p>返回有序结合Key中排名在[start, end]中的元素集合（带权重）</p>
<p>升序：<code>Set&lt;TypedTuple&lt;V&gt;&gt; rangeWithScores(K key, long start, long end)</code></p>
<p>降序： <code>Set&lt;V&gt; reverseRange(K key, long start, long end)</code></p>
<h3 id="rangebyscorereverserangebyscore"><a class="markdownIt-Anchor" href="#rangebyscorereverserangebyscore"></a> rangeByScore|reverseRangeByScore</h3>
<p>升序：<code>Set&lt;V&gt; rangeByScore(K key, double min, double max)</code></p>
<p>降序： <code>Set&lt;V&gt; reverseRangeByScore(K key, double min, double max)</code></p>
<p>返回有序集合Key中score在区间[min, max]中的有序集合</p>
<p>升序：<code>Set&lt;V&gt; rangeByScore(K key, double min, double max, long offset, long count)</code></p>
<p>降序：<code>Set&lt;V&gt; reverseRangeByScore(K key, double min, double max, long offset, long count)</code></p>
<p>返回有序集合Key中score在区间[min, max]中的有序集合在区间[offset, offset + count - 1] 返回的有序集合</p>
<h3 id="rangebyscorewithscoresrangebyscorewithscores"><a class="markdownIt-Anchor" href="#rangebyscorewithscoresrangebyscorewithscores"></a> rangeByScoreWithScores|rangeByScoreWithScores</h3>
<p>升序：<code>Set&lt;TypedTuple&lt;V&gt;&gt; rangeByScoreWithScores(K key, double min, double max)</code></p>
<p>降序：<code>Set&lt;TypedTuple&lt;V&gt;&gt; reverseRangeByScoreWithScores(K key, double min, double max)</code></p>
<p>返回有序集合Key中score在区间[min, max]中的有序集合（带权重）</p>
<p>升序：<code>Set&lt;TypedTuple&lt;V&gt;&gt; rangeByScoreWithScores(K key, double min, double max, long offset, long count)</code></p>
<p>降序：<code>Set&lt;TypedTuple&lt;V&gt;&gt; reverseRangeByScoreWithScores(K key, double min, double max, long offset, long count)</code></p>
<p>返回有序集合Key中score在区间[min, max]中的有序集合在区间[offset, offset + count - 1] 返回的有序集合（带权重）</p>
<h3 id="rangebylex"><a class="markdownIt-Anchor" href="#rangebylex"></a> rangeByLex</h3>
<p><code>Set&lt;V&gt; rangeByLex(K key, Range range)</code></p>
<p>返回有序集合key中在[range.getMin, range.getMax]中的有序集合</p>
<p><code>Set&lt;V&gt; rangeByLex(K key, Range range, Limit limit)</code></p>
<p>返回有序集合key中在[range.getMin, range.getMax]中的前limit个元素组成的有序集合</p>
<h3 id="rank"><a class="markdownIt-Anchor" href="#rank"></a> rank</h3>
<p><code>Long rank(K key, Object o)</code></p>
<p>返回集合升序排列时元素o的排名</p>
<h3 id="reverserank"><a class="markdownIt-Anchor" href="#reverserank"></a> reverseRank</h3>
<p><code>Long reverseRank(K key, Object o)</code></p>
<p>返回集合降序排列时元素o的排名</p>
<h3 id="count"><a class="markdownIt-Anchor" href="#count"></a> count</h3>
<p><code>Long count(K key, double min, double max)</code></p>
<p>返回有序集合key中score中[min, max]中的元素个数</p>
<h3 id="incrementscore"><a class="markdownIt-Anchor" href="#incrementscore"></a> incrementScore</h3>
<p><code>Double (K key, V value, double delta)</code></p>
<p>将有序集合key中value的score增加delta（浮点数）</p>
<h3 id="intersectandstore-unionandstore"><a class="markdownIt-Anchor" href="#intersectandstore-unionandstore"></a> intersectAndStore | unionAndStore</h3>
<p><code>Long intersectAndStore|unionAndStore(K key, K otherKey, K destKey)</code></p>
<p>将有序集合key和有序集合otherKey中的交集存到有序集合destKey中，并返回交集个数</p>
<p><code>Long intersectAndStore|unionAndStore(K key, Collection&lt;K&gt; otherKeys, K destKey)</code></p>
<p>将有序集合key和有序集合（多个集合）otherKeys中的交集存到有序集合destKey中，并返回交集个数</p>
<p><code>default Long intersectAndStore|unionAndStore(K key, Collection&lt;K&gt; otherKeys, K destKey, Aggregate aggregate)</code></p>
<p>将有序集合key和有序集合（多个集合）otherKeys中的交集存到有序集合destKey中，并返回交集个数，按照聚合规则Aggregate</p>
<blockquote>
<p>Aggregate枚举类</p>
<p>MAX:最大值</p>
<p>MIN:最小值</p>
<p>SUM:总和</p>
<p>Sort aggregation operations</p>
<p>排序聚合操作</p>
</blockquote>
<p><code>Long intersectAndStore|unionAndStore(K key, Collection&lt;K&gt; otherKeys, K destKey, Aggregate aggregate, Weights weights)</code></p>
<p>将有序集合key和有序集合（多个集合）otherKeys中的交集存到有序集合destKey中，并返回交集个数，按照聚合规则Aggregate和乘法因子Weight</p>
<blockquote>
<p>Weight说明</p>
<p>Value object encapsulating a multiplication factor for each input sorted set. This means that the score of every element in every input sorted set is multiplied by this factor before being passed to the aggregation function</p>
<p>对象封装每个输入排序集的乘法因子。这意味着在传递给聚合函数之前，每个输入排序集中每个元素的得分都要乘以这个因子</p>
</blockquote>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Redis/">Redis</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/6f4c/"><img class="prev-cover" src="/img/cover/cover17.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">redis操作之hash操作</div></div></a></div><div class="next-post pull-right"><a href="/posts/3e3f/"><img class="next-cover" src="/img/cover/cover15.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">CentOS安装redis</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/3e3f/" title="CentOS安装redis"><img class="cover" src="/img/cover/cover15.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-17</div><div class="title">CentOS安装redis</div></div></a></div><div><a href="/posts/d1b6/" title="redis操作之List操作"><img class="cover" src="/img/cover/cover19.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-17</div><div class="title">redis操作之List操作</div></div></a></div><div><a href="/posts/d776/" title="redis操作之String操作"><img class="cover" src="/img/cover/cover21.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-17</div><div class="title">redis操作之String操作</div></div></a></div><div><a href="/posts/1d65/" title="redis操作之Zset操作"><img class="cover" src="/img/cover/cover22.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-17</div><div class="title">redis操作之Zset操作</div></div></a></div><div><a href="/posts/6f4c/" title="redis操作之hash操作"><img class="cover" src="/img/cover/cover17.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-17</div><div class="title">redis操作之hash操作</div></div></a></div><div><a href="/posts/167f/" title="redis操作之set操作"><img class="cover" src="/img/cover/cover20.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-17</div><div class="title">redis操作之set操作</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/tux.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">神笔码农</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">64</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/programmer-liao"><i class="fab fa-github"></i><span>follow me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到神笔码农的小站，我在这里分享知识</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#randomkey"><span class="toc-number">1.</span> <span class="toc-text"> randomKey</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#expireat"><span class="toc-number">2.</span> <span class="toc-text"> expireAt</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#expire"><span class="toc-number">3.</span> <span class="toc-text"> expire</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#delete"><span class="toc-number">4.</span> <span class="toc-text"> delete</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#unlink"><span class="toc-number">5.</span> <span class="toc-text"> unlink</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#type"><span class="toc-number">6.</span> <span class="toc-text"> Type</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rename"><span class="toc-number">7.</span> <span class="toc-text"> rename</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#setenabletransactionsupport"><span class="toc-number">8.</span> <span class="toc-text"> setEnableTransactionSupport</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mutli"><span class="toc-number">9.</span> <span class="toc-text"> mutli</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#exec"><span class="toc-number">10.</span> <span class="toc-text"> exec</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#discard"><span class="toc-number">11.</span> <span class="toc-text"> discard</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#watch"><span class="toc-number">12.</span> <span class="toc-text"> watch</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#unwatch"><span class="toc-number">13.</span> <span class="toc-text"> unwatch</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#move"><span class="toc-number">14.</span> <span class="toc-text"> move</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dump"><span class="toc-number">15.</span> <span class="toc-text"> dump</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#slaveof"><span class="toc-number">16.</span> <span class="toc-text"> slaveOf</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#slaveofnoone"><span class="toc-number">17.</span> <span class="toc-text"> slaveOfNoOne</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#afterpropertiesset"><span class="toc-number">18.</span> <span class="toc-text"> afterPropertiesSet</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#killclient"><span class="toc-number">19.</span> <span class="toc-text"> killClient</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#opsforvalue"><span class="toc-number">20.</span> <span class="toc-text"> opsForValue</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#set"><span class="toc-number">20.1.</span> <span class="toc-text"> set</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setifabsent"><span class="toc-number">20.2.</span> <span class="toc-text"> setIfAbsent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setifabsent-2"><span class="toc-number">20.3.</span> <span class="toc-text"> setIfAbsent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mutliset"><span class="toc-number">20.4.</span> <span class="toc-text"> mutliSet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mutliget"><span class="toc-number">20.5.</span> <span class="toc-text"> mutliGet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#multisetifabsent"><span class="toc-number">20.6.</span> <span class="toc-text"> multiSetIfAbsent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#get"><span class="toc-number">20.7.</span> <span class="toc-text"> get</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#increment"><span class="toc-number">20.8.</span> <span class="toc-text"> increment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#decrement"><span class="toc-number">20.9.</span> <span class="toc-text"> decrement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#size"><span class="toc-number">20.10.</span> <span class="toc-text"> size</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#append"><span class="toc-number">20.11.</span> <span class="toc-text"> append</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getandset"><span class="toc-number">20.12.</span> <span class="toc-text"> getAndSet</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#opsforhash"><span class="toc-number">21.</span> <span class="toc-text"> opsForHash</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#put"><span class="toc-number">21.1.</span> <span class="toc-text"> put</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#putall"><span class="toc-number">21.2.</span> <span class="toc-text"> putAll</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#putifabsent"><span class="toc-number">21.3.</span> <span class="toc-text"> putIfAbsent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#size-2"><span class="toc-number">21.4.</span> <span class="toc-text"> size</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#delete-2"><span class="toc-number">21.5.</span> <span class="toc-text"> delete</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#haskey"><span class="toc-number">21.6.</span> <span class="toc-text"> hasKey</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#keys"><span class="toc-number">21.7.</span> <span class="toc-text"> Keys</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#values"><span class="toc-number">21.8.</span> <span class="toc-text"> values</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#entries"><span class="toc-number">21.9.</span> <span class="toc-text"> entries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lengthofvalue"><span class="toc-number">21.10.</span> <span class="toc-text"> lengthOfValue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#get-2"><span class="toc-number">21.11.</span> <span class="toc-text"> get</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#increment-2"><span class="toc-number">21.12.</span> <span class="toc-text"> increment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mutliget-2"><span class="toc-number">21.13.</span> <span class="toc-text"> mutliGet</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#opsforlist"><span class="toc-number">22.</span> <span class="toc-text"> opsForList</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#set-2"><span class="toc-number">22.1.</span> <span class="toc-text"> set</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#remove"><span class="toc-number">22.2.</span> <span class="toc-text"> remove</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#size-3"><span class="toc-number">22.3.</span> <span class="toc-text"> size</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#range"><span class="toc-number">22.4.</span> <span class="toc-text"> range</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#trim"><span class="toc-number">22.5.</span> <span class="toc-text"> trim</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#leftpushrightpush"><span class="toc-number">22.6.</span> <span class="toc-text"> leftPush&#x2F;rightPush</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#leftpushallrightpushall"><span class="toc-number">22.7.</span> <span class="toc-text"> leftPushAll&#x2F;rightPushAll</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#leftpushifpresentrightpushifpresent"><span class="toc-number">22.8.</span> <span class="toc-text"> leftPushIfPresent&#x2F;rightPushIfPresent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#leftpoprightpop"><span class="toc-number">22.9.</span> <span class="toc-text"> leftPop&#x2F;rightPop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rightpopandleftpush"><span class="toc-number">22.10.</span> <span class="toc-text"> rightPopAndLeftPush</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#opsforset"><span class="toc-number">23.</span> <span class="toc-text"> opsForSet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#add"><span class="toc-number">23.1.</span> <span class="toc-text"> add</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#remove-2"><span class="toc-number">23.2.</span> <span class="toc-text"> remove</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ismemeber"><span class="toc-number">23.3.</span> <span class="toc-text"> isMemeber</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#members"><span class="toc-number">23.4.</span> <span class="toc-text"> members</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#randommember"><span class="toc-number">23.5.</span> <span class="toc-text"> randomMember</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#randommembers"><span class="toc-number">23.6.</span> <span class="toc-text"> randomMembers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#distinctrandommembers"><span class="toc-number">23.7.</span> <span class="toc-text"> distinctRandomMembers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pop"><span class="toc-number">23.8.</span> <span class="toc-text"> pop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#move-2"><span class="toc-number">23.9.</span> <span class="toc-text"> move</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#size-4"><span class="toc-number">23.10.</span> <span class="toc-text"> size</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unionintersectdifference"><span class="toc-number">23.11.</span> <span class="toc-text"> union&#x2F;intersect&#x2F;difference</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unionandstoreintersectandstoredifferenceandstore"><span class="toc-number">23.12.</span> <span class="toc-text"> unionAndStore&#x2F;intersectAndStore&#x2F;differenceAndStore</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#opsforzset"><span class="toc-number">24.</span> <span class="toc-text"> opsForZSet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#add-2"><span class="toc-number">24.1.</span> <span class="toc-text"> add</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#remove-3"><span class="toc-number">24.2.</span> <span class="toc-text"> remove</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#removerange"><span class="toc-number">24.3.</span> <span class="toc-text"> removeRange</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#removerangebyscore"><span class="toc-number">24.4.</span> <span class="toc-text"> removeRangeByScore</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#size-5"><span class="toc-number">24.5.</span> <span class="toc-text"> size</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#score"><span class="toc-number">24.6.</span> <span class="toc-text"> score</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#range-2"><span class="toc-number">24.7.</span> <span class="toc-text"> range</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#zcard"><span class="toc-number">24.8.</span> <span class="toc-text"> zCard</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rangewithscoresreverserange"><span class="toc-number">24.9.</span> <span class="toc-text"> rangeWithScores|reverseRange</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rangebyscorereverserangebyscore"><span class="toc-number">24.10.</span> <span class="toc-text"> rangeByScore|reverseRangeByScore</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rangebyscorewithscoresrangebyscorewithscores"><span class="toc-number">24.11.</span> <span class="toc-text"> rangeByScoreWithScores|rangeByScoreWithScores</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rangebylex"><span class="toc-number">24.12.</span> <span class="toc-text"> rangeByLex</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rank"><span class="toc-number">24.13.</span> <span class="toc-text"> rank</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reverserank"><span class="toc-number">24.14.</span> <span class="toc-text"> reverseRank</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#count"><span class="toc-number">24.15.</span> <span class="toc-text"> count</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#incrementscore"><span class="toc-number">24.16.</span> <span class="toc-text"> incrementScore</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#intersectandstore-unionandstore"><span class="toc-number">24.17.</span> <span class="toc-text"> intersectAndStore | unionAndStore</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/ffe3/" title="java基础知识梳理（三）：运算符"><img src="/img/cover/cover43.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="java基础知识梳理（三）：运算符"/></a><div class="content"><a class="title" href="/posts/ffe3/" title="java基础知识梳理（三）：运算符">java基础知识梳理（三）：运算符</a><time datetime="2023-08-18T05:55:53.988Z" title="发表于 2023-08-18 13:55:53">2023-08-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/76ce/" title="java基础知识梳理（二）：变量、数据类型"><img src="/img/cover/cover42.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="java基础知识梳理（二）：变量、数据类型"/></a><div class="content"><a class="title" href="/posts/76ce/" title="java基础知识梳理（二）：变量、数据类型">java基础知识梳理（二）：变量、数据类型</a><time datetime="2023-08-18T05:55:53.986Z" title="发表于 2023-08-18 13:55:53">2023-08-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/e960/" title="InputStreamReader和OutputStreamWriter常用方法详解"><img src="/img/cover/cover62.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="InputStreamReader和OutputStreamWriter常用方法详解"/></a><div class="content"><a class="title" href="/posts/e960/" title="InputStreamReader和OutputStreamWriter常用方法详解">InputStreamReader和OutputStreamWriter常用方法详解</a><time datetime="2023-08-18T05:55:53.985Z" title="发表于 2023-08-18 13:55:53">2023-08-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/b442/" title="firewall-cmd命令学习记录"><img src="/img/cover/cover61.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="firewall-cmd命令学习记录"/></a><div class="content"><a class="title" href="/posts/b442/" title="firewall-cmd命令学习记录">firewall-cmd命令学习记录</a><time datetime="2023-08-18T05:55:53.984Z" title="发表于 2023-08-18 13:55:53">2023-08-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/2415/" title="File类常用方法详解"><img src="/img/cover/cover58.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="File类常用方法详解"/></a><div class="content"><a class="title" href="/posts/2415/" title="File类常用方法详解">File类常用方法详解</a><time datetime="2023-08-18T05:55:53.981Z" title="发表于 2023-08-18 13:55:53">2023-08-18</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By 神笔码农</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>